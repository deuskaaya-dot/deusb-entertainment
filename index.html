<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DEUSB ENTERTAINMENT | Official Store</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@400;700;800&family=Playfair+Display:ital,wght@0,700;1,700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --brand-cream: #f7e1bc;  
            --brand-red: #8b2635;    
            --brand-blue: #1a2a44;   
            --brand-yellow: #fdb813; 
            --pure-white: #ffffff;
            --whatsapp-green: #25d366;
            --deusb-gold: #e67e22;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body { 
            font-family: 'Montserrat', sans-serif; 
            margin: 0; 
            background-color: var(--brand-cream); 
            color: var(--brand-blue); 
            overflow-x: hidden;
            width: 100%;
        }

        /* --- HEADER & NAVIGATION --- */
        header { 
            padding: 40px 20px; 
            text-align: center; 
            background: var(--pure-white);
            border-bottom: 5px solid var(--brand-red);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .logo { width: 120px; height: auto; margin-bottom: 10px; }

        .brand-name { 
            font-family: 'Great Vibes', cursive;
            margin: 0; 
            font-size: 3.5rem; 
            font-weight: normal;
            animation: colorShift 12s infinite alternate;
            display: block;
        }

        @keyframes colorShift {
            0% { color: var(--brand-blue); }
            33% { color: var(--brand-red); }
            66% { color: var(--deusb-gold); }
            100% { color: #5d3fd3; }
        }

        .tagline { 
            font-family: 'Playfair Display', serif;
            font-style: italic; 
            color: var(--brand-red); 
            font-size: 16px; 
            margin-bottom: 20px; 
            display: block; 
            letter-spacing: 2px;
        }

        .search-container {
            width: 100%;
            max-width: 500px;
            margin: 20px auto 0 auto;
            padding: 0 15px;
        }

        #searchInput {
            width: 100%;
            padding: 15px 25px;
            border-radius: 30px;
            border: 2px solid var(--brand-blue);
            background: var(--pure-white);
            font-size: 16px;
            outline: none;
            box-shadow: 0 5px 10px rgba(0,0,0,0.05);
            transition: 0.3s;
        }

        #searchInput:focus { border-color: var(--brand-red); box-shadow: 0 5px 15px rgba(139,38,53,0.2); }

        .nav-actions {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .btn-nav {
            display: inline-block;
            background: var(--brand-blue);
            color: var(--brand-yellow);
            padding: 12px 24px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 800;
            font-size: 13px;
            border: 2px solid var(--brand-yellow);
            transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            text-transform: uppercase;
            cursor: pointer;
            letter-spacing: 1px;
        }

        .btn-nav:hover { transform: scale(1.05); background: var(--brand-red); border-color: var(--pure-white); color: white; }
        #btnBack { display: none; background: var(--brand-red); color: white; border-color: var(--pure-white); }

        /* --- MAIN CONTAINER & MASONRY GRID --- */
        .container { max-width: 1200px; margin: 30px auto; padding: 0 15px; min-height: 500px; }
        
        #loadingMsg { 
            text-align: center; 
            padding: 80px; 
            font-weight: 800; 
            color: var(--brand-red); 
            font-size: 20px;
            letter-spacing: 2px;
        }

        /* Hii ndio inafanya box zipande juu kuziba gap */
        #mainGrid { 
            display: block;
            column-count: 2; 
            column-gap: 15px; 
            width: 100%;
        }

        @media (min-width: 768px) { #mainGrid { column-count: 3; column-gap: 25px; } }
        @media (min-width: 1024px) { #mainGrid { column-count: 4; } }

        .kadi { 
            background: white; 
            border-radius: 15px; 
            overflow: hidden; 
            box-shadow: 0 10px 25px rgba(0,0,0,0.1); 
            transition: 0.4s; 
            display: inline-block; 
            width: 100%;
            margin-bottom: 20px; 
            break-inside: avoid; 
            cursor: pointer;
            border: 1px solid rgba(0,0,0,0.03);
        }

        .kadi:hover { transform: translateY(-8px); box-shadow: 0 15px 35px rgba(0,0,0,0.15); }
        .product-img { width: 100%; height: auto; display: block; background: #f0f0f0; }
        .kadi-info { padding: 15px; text-align: left; }
        .kadi-info h3 { margin: 0 0 8px 0; color: var(--brand-blue); font-size: 15px; font-weight: 800; line-height: 1.3; text-transform: uppercase; }
        .kadi-info p { margin: 0; font-size: 12px; line-height: 1.5; color: #666; font-weight: 500; }

        /* --- CATALOGUE SECTIONS --- */
        .service-section { margin-bottom: 60px; background: white; padding: 35px; border-radius: 20px; box-shadow: 0 15px 40px rgba(0,0,0,0.08); position: relative; overflow: hidden; }
        .service-section::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 8px; background: linear-gradient(90deg, var(--brand-red), var(--deusb-gold)); }
        
        .section-title { margin: 0 0 10px 0; color: var(--brand-blue); font-size: 28px; text-transform: uppercase; font-weight: 900; letter-spacing: -1px; }
        .section-desc { color: #777; font-size: 15px; margin-bottom: 30px; font-style: italic; display: block; }
        
        .tier-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
        
        .tier-card { 
            border: 1px solid #f0f0f0; 
            padding: 30px; 
            border-radius: 15px; 
            background: #fff; 
            display: flex; 
            flex-direction: column; 
            transition: 0.3s;
            position: relative;
        }
        .tier-card:hover { border-color: var(--brand-red); transform: scale(1.02); }
        
        .tier-card h3 { margin: 0; font-size: 22px; color: var(--brand-blue); font-weight: 800; }
        .tier-price { font-size: 24px; font-weight: 900; color: var(--brand-red); margin: 15px 0 5px 0; display: block; }
        .tier-time { font-size: 13px; color: var(--deusb-gold); font-weight: 800; margin-bottom: 20px; display: block; text-transform: uppercase; }
        .tier-card p { font-size: 14px; color: #555; line-height: 1.7; flex-grow: 1; margin-bottom: 20px; }
        
        .btn-req { 
            background: #000; 
            color: white; 
            border: none; 
            padding: 16px; 
            border-radius: 50px; 
            font-weight: 800; 
            cursor: pointer; 
            width: 100%; 
            text-transform: uppercase; 
            font-size: 12px; 
            letter-spacing: 1px;
            transition: 0.3s;
        }
        .btn-req:hover { background: var(--brand-red); transform: translateY(-3px); }

        /* --- MODAL & FORMS --- */
        .modal { display: none; position: fixed; z-index: 9999; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); overflow-y: auto; backdrop-filter: blur(5px); }
        .modal-content { background: white; margin: 40px auto; padding: 40px; border-radius: 20px; width: 92%; max-width: 700px; position: relative; box-shadow: 0 25px 50px rgba(0,0,0,0.5); }
        .close { position: absolute; right: 25px; top: 20px; font-size: 35px; cursor: pointer; color: #999; transition: 0.3s; }
        .close:hover { color: var(--brand-red); }
        
        .req-field { margin-bottom: 25px; text-align: left; }
        .req-field label { display: block; font-weight: 800; margin-bottom: 10px; font-size: 14px; color: var(--brand-blue); text-transform: uppercase; }
        .req-field input, .req-field textarea { 
            width: 100%; 
            padding: 15px; 
            border: 2px solid #eee; 
            border-radius: 12px; 
            font-size: 15px; 
            background: #fafafa; 
            font-family: inherit;
            transition: 0.3s;
        }
        .req-field input:focus, .req-field textarea:focus { border-color: var(--deusb-gold); outline: none; background: white; }
        
        .brief-header { border-bottom: 3px solid var(--brand-red); padding-bottom: 15px; margin-bottom: 30px; }
        .brief-header h2 { margin: 0; font-size: 24px; color: var(--brand-red); text-transform: uppercase; }

        /* --- FOOTER --- */
        footer { background: #111; padding: 60px 20px; text-align: center; color: white; margin-top: 80px; }
        .footer-logo { font-family: 'Great Vibes', cursive; font-size: 2.5rem; color: var(--deusb-gold); margin-bottom: 10px; display: block; }
        .social-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; margin: 30px 0; }
        .social-btn { 
            display: flex; 
            align-items: center; 
            gap: 10px; 
            background: #222; 
            padding: 12px 20px; 
            border-radius: 50px; 
            text-decoration: none; 
            color: white; 
            font-weight: 700; 
            font-size: 14px; 
            border: 1px solid #333;
            transition: 0.3s;
        }
        .social-btn:hover { background: var(--brand-red); border-color: white; transform: translateY(-5px); }
        .social-icon { width: 20px; height: 20px; }
    </style>
</head>
<body>

    <header>
        <img src="https://i.ibb.co/rRZvchrH/transparent-logo.png" alt="DEUSB Logo" class="logo">
        <h1 class="brand-name">Deusb Entertainment</h1>
        <span class="tagline">"The Standard of Story"</span>
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Tafuta unachohitaji..." onkeyup="filterContent()">
            <div class="nav-actions">
                <a href="javascript:void(0)" id="btnBack" class="btn-nav" onclick="changeView('miradi')">‚Üê Rudi Nyuma</a>
                <a href="javascript:void(0)" id="btnStore" class="btn-nav" onclick="changeView('store')">Store & Shop</a>
                <a href="javascript:void(0)" id="btnCatalogue" class="btn-nav" onclick="changeView('catalogue')">Service Catalogue</a>
            </div>
        </div>
    </header>

    <div class="container">
        <div id="loadingMsg">INAANDAA DATA...</div>
        <div id="viewContainer"></div>
    </div>

    <div id="briefModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div class="brief-header">
                <h2 id="briefTitle">Project Brief</h2>
                <p id="briefSubtitle" style="font-size: 13px; color: #666; margin-top: 5px;">Tafadhali jaza maelezo haya ili tuanze kazi yako.</p>
            </div>
            <div id="briefForm">
                <div class="req-field"><label>Jina la Brand/Biashara Yako</label><input type="text" id="bizName" placeholder="Mfano: Deusb Entertainment"></div>
                <div id="dynamicFields"></div>
                <div class="req-field"><label>Link ya Media (Drive/Wetransfer)</label><input type="url" id="mediaLink" placeholder="Weka link ya picha au video zako hapa"></div>
                <div class="req-field"><label>Maelezo ya Ziada au Maelekezo Maalum</label><textarea id="projDesc" rows="4" placeholder="Andika chochote unachotaka tukizingatie..."></textarea></div>
                <button style="background: #d44638; color: white; border: none; padding: 20px; width: 100%; border-radius: 12px; font-weight: 900; cursor: pointer; margin-top: 10px; font-size: 16px; letter-spacing: 1px;" onclick="sendGmail()">TUMA MAOMBI VIA GMAIL</button>
            </div>
        </div>
    </div>

    <footer>
        <span class="footer-logo">Deusb Entertainment</span>
        <p style="font-style: italic; color: #aaa; margin-bottom: 30px;">"Quality is not an act, it is a habit."</p>
        <div class="social-container">
            <a href="https://wa.me/255748666409" class="social-btn"><img src="https://i.ibb.co/tP3xXKN0/whatsapp.png" class="social-icon"> WhatsApp</a>
            <a href="https://www.instagram.com/deusb_entertainment" target="_blank" class="social-btn"><img src="https://i.ibb.co/PZF184kz/instagram.png" class="social-icon"> Instagram</a>
            <a href="https://tiktok.com/@deusbentertainment" target="_blank" class="social-btn"><img src="https://i.ibb.co/nMGgVbsT/tik-tok.png" class="social-icon"> TikTok</a>
            <a href="https://youtube.com/@deusbentertainment" target="_blank" class="social-btn"><img src="https://upload.wikimedia.org/wikipedia/commons/e/ef/Youtube_logo.png" class="social-icon"> YouTube</a>
        </div>
        <p style="font-size: 12px; color: #444; border-top: 1px solid #222; padding-top: 30px;">&copy; 2026 DEUSB ENTERTAINMENT. All Rights Reserved.</p>
    </footer>

    <script>
        // --- CONFIGURATION ---
        const sheetUrls = {
            projects: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vS7Rt8XJHECqqEfVdN5I_TS2EHAPVAeaoenwF-SVQO35GX0lDg-opKoWhHhjfOJYmIMDe6tej1ZbdNC/pub?gid=0&single=true&output=csv',
            store: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTjyYpymtplOkf4FK5Fwcfs9PnDMpldjLKiTftg4Sv518seWW188xS1v9aeJIQsbQbFS7HgiFb7SdV_/pub?gid=2113416306&single=true&output=csv'
        };

        // Maswali yote ya Requirement List (Brief)
        const packageBriefs = {
            'Graphics Basic': ["Headline ya Flyer", "Rangi unazopendelea", "Tarehe na Muda (Kama upo)", "Wapi itatumika (Insta/Status)?"],
            'Graphics Standard': ["Motto wa biashara", "Slogan unayotaka iandikwe", "Rangi 3 za msingi", "Vitu gani vionekane zaidi?", "Size ya picha (Square/Story)?"],
            'Graphics Premium': ["Vision ya Brand yako", "Logo Guidelines (Kama unayo)", "Orodha ya vitu vyote unavyotaka kwenye Brand Identity", "Washindani wako ni nani?"],
            'Video Basic': ["Video inahusu nini?", "Muda unaotaka (Sekunde ngapi?)", "Weka maneno unayotaka yaandikwe (Captions)"],
            'Video Standard': ["Music Style (Slow/Fast)", "Aina ya fonts unazopenda", "Subtitle Language", "Color Grade Mood (Dark/Bright)"],
            'Video Premium': ["Script/Storyline overview", "Target Audience", "Call to Action", "Voiceover language"],
            'Motion Basic': ["Logo unayo (PNG/Vector)?", "Style ya Animation (Smooth/Energetic)?", "Intro au Outro?"],
            'Motion Standard': ["Element gani zicheze?", "Background sound effects?", "Resolution (1080p/4K)?"],
            'Social Lite': ["Link ya page yako", "Lengo la mwezi huu", "Aina ya content unazopenda"],
            'Social Domination': ["Bajeti ya Ads", "Maeneo ya kumlenga mteja", "Mambo gani mteja hapendi?"],
            'Photography Standard': ["Eneo la tukio", "Muda wa kuanza", "Idadi ya picha unazohitaji"]
        };

        let currentView = 'miradi';
        let masterData = { projects: [], store: [] };

        async function changeView(view) {
            currentView = view;
            document.getElementById('btnBack').style.display = (view === 'miradi') ? 'none' : 'inline-block';
            document.getElementById('viewContainer').innerHTML = "";
            window.scrollTo({ top: 0, behavior: 'smooth' });

            if (view === 'catalogue') renderCatalogue();
            else if (view === 'store') loadStore();
            else loadProjects();
        }

        // --- DATA LOADING ---
        function loadProjects() {
            document.getElementById('loadingMsg').style.display = 'block';
            Papa.parse(sheetUrls.projects, {
                download: true, header: true,
                complete: (results) => {
                    masterData.projects = results.data.map(row => {
                        let linkKey = Object.keys(row).find(k => k.toLowerCase().includes('link') || k.toLowerCase().includes('url'));
                        return {
                            name: row['Jina'] || row['Name'] || "Unnamed Project",
                            desc: row['Maelezo'] || row['Description'] || "",
                            img: row['Picha'] || row['Image'] || "",
                            link: linkKey ? row[linkKey].trim() : ""
                        };
                    }).filter(p => p.name !== "Unnamed Project");
                    renderList(masterData.projects, 'project');
                    document.getElementById('loadingMsg').style.display = 'none';
                }
            });
        }

        function loadStore() {
            document.getElementById('loadingMsg').style.display = 'block';
            Papa.parse(sheetUrls.store, { 
                download: true, header: true, 
                complete: (res) => {
                    masterData.store = res.data.filter(i => i.Jina);
                    renderList(masterData.store, 'store');
                    document.getElementById('loadingMsg').style.display = 'none';
                }
            });
        }

        // --- RENDERING ---
        function renderList(data, type) {
            let html = `<div id="mainGrid">`;
            data.forEach(i => {
                if (type === 'project') {
                    html += `<div class="kadi" onclick="if('${i.link}'){window.open('${i.link}','_blank')}else{alert('Video link coming soon!')}">
                        <img src="${i.img}" class="product-img" onerror="this.src='https://via.placeholder.com/400x500?text=Deusb+Preview'">
                        <div class="kadi-info"><h3>${i.name}</h3><p>${i.desc}</p></div>
                    </div>`;
                } else {
                    html += `<div class="kadi">
                        <img src="${i.PichaURL}" class="product-img">
                        <div class="kadi-info"><h3>${i.Jina}</h3><span style="color:var(--brand-red); font-weight:900;">TSH ${i.Bei}</span><p>${i.Maelezo}</p></div>
                        <a href="https://wa.me/255748666409?text=Nahitaji:${i.Jina}" class="btn-nav" style="background:var(--whatsapp-green); border:none; display:block; text-align:center; margin:10px; border-radius:10px;">AGIZA SASA</a>
                    </div>`;
                }
            });
            document.getElementById('viewContainer').innerHTML = html + `</div>`;
        }

        function renderCatalogue() {
            document.getElementById('viewContainer').innerHTML = `
                <div class="service-section">
                    <h2 class="section-title">1. Graphics & Branding</h2>
                    <span class="section-desc">Visual communication that sells your vision.</span>
                    <div class="tier-grid">
                        <div class="tier-card">
                            <h3>BASIC</h3><span class="tier-price">20k - 30k</span><span class="tier-time">TAT: 1-4 Hours</span>
                            <p>1 Simple Flyer or Logo Concept. Ideal for urgent announcements and events.</p>
                            <button class="btn-req" onclick="openBrief('Graphics Basic')">Requirement List</button>
                        </div>
                        <div class="tier-card">
                            <h3>STANDARD</h3><span class="tier-price">50k - 80k</span><span class="tier-time">TAT: 1-2 Days</span>
                            <p>Professional Branding Package: 2 High-End Flyers + Professional Logo + Source Files.</p>
                            <button class="btn-req" onclick="openBrief('Graphics Standard')">Requirement List</button>
                        </div>
                        <div class="tier-card">
                            <h3>PREMIUM</h3><span class="tier-price">120k - 250k</span><span class="tier-time">TAT: 3-5 Days</span>
                            <p>Full Brand Identity: Logo, Typography, Stationery, and Social Media Kit.</p>
                            <button class="btn-req" onclick="openBrief('Graphics Premium')">Requirement List</button>
                        </div>
                    </div>
                </div>

                <div class="service-section">
                    <h2 class="section-title">2. Video Editing</h2>
                    <span class="section-desc">Transforming raw footage into engaging stories.</span>
                    <div class="tier-grid">
                        <div class="tier-card">
                            <h3>BASIC</h3><span class="tier-price">40k - 60k</span><span class="tier-time">TAT: 2-6 Hours</span>
                            <p>Short reels/TikTok editing with basic cuts, background music, and color correction.</p>
                            <button class="btn-req" onclick="openBrief('Video Basic')">Requirement List</button>
                        </div>
                        <div class="tier-card">
                            <h3>STANDARD</h3><span class="tier-price">80k - 150k</span><span class="tier-time">TAT: 1-2 Days</span>
                            <p>Pro Editing: Dynamic transitions, Subtitles, sound design, and cinematic color grading.</p>
                            <button class="btn-req" onclick="openBrief('Video Standard')">Requirement List</button>
                        </div>
                        <div class="tier-card">
                            <h3>PREMIUM</h3><span class="tier-price">200k - 450k</span><span class="tier-time">TAT: 3-7 Days</span>
                            <p>Full Production: Scriptwriting + Multi-camera editing + Voiceover + High-End Grading.</p>
                            <button class="btn-req" onclick="openBrief('Video Premium')">Requirement List</button>
                        </div>
                    </div>
                </div>

                <div class="service-section">
                    <h2 class="section-title">3. Motion Graphics</h2>
                    <span class="section-desc">Bring your brand to life with professional animation.</span>
                    <div class="tier-grid">
                        <div class="tier-card">
                            <h3>BASIC</h3><span class="tier-price">50k - 80k</span><span class="tier-time">TAT: 1 Day</span>
                            <p>Animated Logo Intro/Outro (5-10 Sec). Perfect for YouTube and Ads.</p>
                            <button class="btn-req" onclick="openBrief('Motion Basic')">Requirement List</button>
                        </div>
                        <div class="tier-card">
                            <h3>STANDARD</h3><span class="tier-price">100k - 250k</span><span class="tier-time">TAT: 2-4 Days</span>
                            <p>Explainer Motion (15-30 Sec). Detailed animation of text and elements.</p>
                            <button class="btn-req" onclick="openBrief('Motion Standard')">Requirement List</button>
                        </div>
                    </div>
                </div>

                <div class="service-section">
                    <h2 class="section-title">4. Social Media Management</h2>
                    <span class="section-desc">Dominating the digital space with consistent quality.</span>
                    <div class="tier-grid">
                        <div class="tier-card">
                            <h3>LITE</h3><span class="tier-price">250k - 400k/mo</span><span class="tier-time">Monthly</span>
                            <p>12 High-quality posts + Professional captions + Monthly report.</p>
                            <button class="btn-req" onclick="openBrief('Social Lite')">Requirement List</button>
                        </div>
                        <div class="tier-card">
                            <h3>DOMINATION</h3><span class="tier-price">1.2M+ /mo</span><span class="tier-time">Full Management</span>
                            <p>Daily posting + Content shoots + Ad management + Community engagement.</p>
                            <button class="btn-req" onclick="openBrief('Social Domination')">Requirement List</button>
                        </div>
                    </div>
                </div>
            `;
        }

        // --- MODAL LOGIC ---
        let selectedCategory = "";
        function openBrief(cat) {
            selectedCategory = cat;
            document.getElementById('briefTitle').innerText = cat + " REQUIREMENTS";
            const questions = packageBriefs[cat] || ["Elezea hitaji lako kwa ufupi"];
            
            let html = questions.map(q => `
                <div class="req-field">
                    <label>${q}</label>
                    <input type="text" class="dyn-input" data-q="${q}" placeholder="Andika hapa...">
                </div>
            `).join('');
            
            document.getElementById('dynamicFields').innerHTML = html;
            document.getElementById('briefModal').style.display = "block";
            document.body.style.overflow = "hidden";
        }

        function closeModal() {
            document.getElementById('briefModal').style.display = "none";
            document.body.style.overflow = "auto";
        }

        function sendGmail() {
            let bizName = document.getElementById('bizName').value || "No Brand Name";
            let media = document.getElementById('mediaLink').value || "No Media Provided";
            let extra = document.getElementById('projDesc').value || "No Extra Instructions";
            
            let briefData = "";
            document.querySelectorAll('.dyn-input').forEach(input => {
                briefData += `${input.dataset.q}: ${input.value}\n`;
            });

            let fullBody = `DEUSB PROJECT BRIEF - ${selectedCategory.toUpperCase()}\n`;
            fullBody += `----------------------------------------\n\n`;
            fullBody += `BRAND NAME: ${bizName}\n\n`;
            fullBody += `PROJECT DETAILS:\n${briefData}\n`;
            fullBody += `MEDIA ASSETS: ${media}\n\n`;
            fullBody += `EXTRA NOTES:\n${extra}\n\n`;
            fullBody += `----------------------------------------\n`;
            fullBody += `Submitted via Deusb Web Hub.`;

            let mailUrl = `https://mail.google.com/mail/?view=cm&fs=1&to=deusbentertainment@gmail.com&su=NEW PROJECT BRIEF: ${selectedCategory} - ${bizName}&body=${encodeURIComponent(fullBody)}`;
            window.open(mailUrl, '_blank');
        }

        function filterContent() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            if (currentView === 'miradi') {
                const filtered = masterData.projects.filter(p => p.name.toLowerCase().includes(query) || p.desc.toLowerCase().includes(query));
                renderList(filtered, 'project');
            } else if (currentView === 'store') {
                const filtered = masterData.store.filter(s => s.Jina.toLowerCase().includes(query) || s.Maelezo.toLowerCase().includes(query));
                renderList(filtered, 'store');
            }
        }

        window.onload = () => changeView('miradi');
    </script>
</body>
</html>
